<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ú–æ–¥—É–ª—å 1 ‚Äî –°–µ—Ç–µ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      max-width: 1000px;
      margin: auto;
      padding: 2em;
      background-color: #fefefe;
      color: #222;
    }
    pre {
      background: #f0f0f0;
      padding: 1em;
      overflow-x: auto;
      border-left: 4px solid #999;
    }
    h1, h2, h3 {
      color: #2c3e50;
    }
    code {
      background: #e2e2e2;
      padding: 2px 4px;
      font-family: Consolas, monospace;
    }
  </style>
</head>
<body>
  <h1>–ú–æ–¥—É–ª—å 1: –ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∏ —Å–µ—Ç–µ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤</h1>
  <p>–î–∞–Ω–Ω—ã–π –º–æ–¥—É–ª—å –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∏–º–µ–Ω —Ö–æ—Å—Ç–æ–≤, IP-–∞–¥—Ä–µ—Å–∞—Ü–∏–∏, –ø–æ–¥—Å–µ—Ç–µ–π, NAT, DHCP, OSPF, GRE –∏ —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞ Linux-—Å–µ—Ä–≤–µ—Ä–∞—Ö, –≤–∫–ª—é—á–∞—è DNS –∏ SSH. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∫–∞–∫ –Ω–∞ —Å–µ—Ç–µ–≤–æ–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–∏, —Ç–∞–∫ –∏ –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω–∞—Ö.</p>

  <h2>üñ• –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω —Å Cisco</h2>

  <h3>‚ö†Ô∏è –í–∞–∂–Ω–æ –∑–∞—Ä–∞–Ω–µ–µ</h3>
  <ul>
    <li>–°—Ç–∞—Ä—ã–µ –º–∞—à–∏–Ω—ã <strong>ISP</strong>, <strong>BR-RTR</strong> –∏ <strong>HQ-RTR</strong> –Ω—É–∂–Ω–æ <strong>—É–¥–∞–ª–∏—Ç—å</strong>.</li>
    <li><code>vmbr</code> ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–º–æ—Å—Ç), —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ —Ä–∞–∑–¥–µ–ª–µ Hardware ‚Üí Network.</li>
    <li>–ù–æ–≤—ã–µ –º–∞—à–∏–Ω—ã –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ –∂–µ <strong>vmbr-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</strong>, —á—Ç–æ –∏ —Å—Ç–∞—Ä—ã–µ.</li>
    <li>–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞–∂–¥–æ–π –º–∞—à–∏–Ω—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–≤–µ—Å—Ç–∏ –∫–æ–º–∞–Ω–¥—É:
      <pre><code>enable</code></pre>
    </li>
  </ul>

  <h3>üîß –®–∞–≥ 1: –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –º–∞—à–∏–Ω</h3>
  <ol>
    <li>–û—Ç–∫—Ä–æ–π Proxmox.</li>
    <li>–ù–∞–π–¥–∏ –í–ú <strong>ISP</strong>, <strong>BR-RTR</strong>, <strong>HQ-RTR</strong>.</li>
    <li>–î–ª—è –∫–∞–∂–¥–æ–π:
      <ul>
        <li>–ù–∞–∂–º–∏ <strong>Shutdown</strong>.</li>
        <li>–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è ‚Äî <strong>Remove</strong>.</li>
      </ul>
    </li>
  </ol>

  <h3>üÜï –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–∞—à–∏–Ω Cisco</h3>
  <ol>
    <li>–ù–∞–∂–º–∏ <strong>Create VM</strong>.</li>
    <li>–í–≤–µ–¥–∏ –∏–º—è –º–∞—à–∏–Ω—ã: <code>ISP</code>, <code>BR-RTR</code>, <code>HQ-RTR</code>.</li>
    <li>–í—ã–±–µ—Ä–∏ ISO-–æ–±—Ä–∞–∑ Cisco (–Ω–∞–ø—Ä–∏–º–µ—Ä: <em>Cisco IOL</em> –∏–ª–∏ <em>CSR1000v</em>).</li>
    <li>–ù–∞ —à–∞–≥–µ <strong>Network</strong>:
      <ul>
        <li>–£–¥–∞–ª–∏—Ç—å –Ω–µ–Ω—É–∂–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã.</li>
        <li>–î–æ–±–∞–≤–∏—Ç—å <strong>vmbr</strong> —Ç–∞–∫–æ–π –∂–µ, –∫–∞–∫ —É —Å—Ç–∞—Ä–æ–π –º–∞—à–∏–Ω—ã.</li>
      </ul>
    </li>
  </ol>

  <h3>üõ† –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Hardware –∏ vmbr</h3>
  <ol>
    <li>–ü–µ—Ä–µ–π–¥–∏ –≤–æ –≤–∫–ª–∞–¥–∫—É <strong>Hardware</strong> –Ω–æ–≤–æ–π –º–∞—à–∏–Ω—ã.</li>
    <li>–£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤ —Ä–∞–∑–¥–µ–ª–µ <strong>Network Device</strong>:
      <ul>
        <li>–¢–∏–ø: <code>virtio</code> –∏–ª–∏ <code>e1000</code></li>
        <li>Bridge: –Ω—É–∂–Ω—ã–π <code>vmbr</code> (–Ω–∞–ø—Ä–∏–º–µ—Ä, <code>vmbr0</code>)</li>
      </ul>
    </li>
  </ol>

  <h3>üîå –®–∞–≥ 4: –í–∫–ª—é—á–µ–Ω–∏–µ –º–∞—à–∏–Ω—ã</h3>
  <ol>
    <li>–ù–∞–∂–º–∏ <strong>Start</strong>.</li>
    <li>–û—Ç–∫—Ä–æ–π <strong>Console</strong>.</li>
    <li>–ü–æ–¥–æ–∂–¥–∏ –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏.</li>
    <li>–í–≤–µ–¥–∏ –∫–æ–º–∞–Ω–¥—É:
      <pre><code>enable</code></pre>
    </li>
  </ol>

  <h3>‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞</h3>
  <ul>
    <li>–ü–æ—è–≤–ª—è–µ—Ç—Å—è CLI-—Ä–µ–∂–∏–º Cisco.</li>
    <li>–ö–æ–º–∞–Ω–¥–∞ <code>show ip interface brief</code> –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã.</li>
    <li>–ú–æ–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É IP, NAT, –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ —Ç.–ø.</li>
     <h1>–ú–æ–¥—É–ª—å 1: –ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∏ —Å–µ—Ç–µ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤</h1>
  <p>–î–∞–Ω–Ω—ã–π –º–æ–¥—É–ª—å –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∏–º–µ–Ω —Ö–æ—Å—Ç–æ–≤, IP-–∞–¥—Ä–µ—Å–∞—Ü–∏–∏, –ø–æ–¥—Å–µ—Ç–µ–π, NAT, DHCP, OSPF, GRE –∏ —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞ Linux-—Å–µ—Ä–≤–µ—Ä–∞—Ö, –≤–∫–ª—é—á–∞—è DNS –∏ SSH. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∫–∞–∫ –Ω–∞ —Å–µ—Ç–µ–≤–æ–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–∏, —Ç–∞–∫ –∏ –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω–∞—Ö.</p>
  <h2>–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤</h2>
  <pre><code># –í—Ö–æ–¥ –≤ —Ä–µ–∂–∏–º –≥–ª–æ–±–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
configure terminal
hostname ".upper()
    }
  ]
}
exit
write memory

configure terminal
hostname ".upper()
    }
  ]
}
exit
write memory

configure terminal
hostname ".upper()
    }
  ]
}
exit
write memory</code></pre>
  <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–º–µ–Ω–∏ —Ö–æ—Å—Ç–∞ –≤ Linux</h2>
  <pre><code>sudo hostnamectl set-hostname ".upper()
    }
  ]
}
sudo bash -c 'echo ".upper()
    }
  ]
} > /etc/hostname'
...</code></pre>
  <h2>–ü–æ–¥—Å–µ—Ç–∏ –∏ IP-–∞–¥—Ä–µ—Å–∞</h2>
  <ul>
    <li>VLAN 100 (): 192.168.10.0/26</li>
    <li>VLAN 200 (): 192.168.10.64/28</li>
    <li>VLAN 999 (–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ): 192.168.10.80/29</li>
    <li>: 192.168.20.0/27</li>
    <li> –∫ : 172.16.4.0/28</li>
    <li> –∫ : 172.16.5.0/28</li>
  </ul>
  <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –∏ IP</h2>
  <pre><code>interface vlan 100 –ª–∏–±–æ interface gigabitethernet1
 ip address 192.168.10.1 255.255.255.240
 no shutdown
...</code></pre>
  <h2>Netplan –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–∞–ª—å—à–µ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –õ–∏–Ω—É–∫—Å</h2>
  <pre><code>network:
  version: 2
  ethernets:
    eth0:
      addresses:
        - 192.168.10.2/26
      gateway4: 192.168.10.1
      nameservers:
        addresses: [192.168.10.2]</code></pre>
  <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ NAT, DHCP, GRE, OSPF</h2>
  <pre><code>ip nat pool HQ_POOL 172.16.4.1 172.16.4.1 netmask 255.255.255.240
ip nat inside source list 1 pool HQ_POOL overload
...
router ospf 1
 network 10.0.0.0 0.0.0.3 area 0
...</code></pre>
  <h2>DNS-—Å–µ—Ä–≤–µ—Ä (BIND)</h2>
  <pre><code>zone "au-team.irpo" {
  type master;
  file "/etc/bind/db";
};</code></pre>
  <h2>SSH –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h2>
  <pre><code>Port 2024
PermitRootLogin no
AllowUsers sshuser
...</code></pre>
  <h2>–ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ IP —á–µ—Ä–µ–∑ ifaces</h2>
  <p>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤ —Å—Ç–∏–ª–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ :)</p>
  <pre><code>–í–æ–π—Ç–∏ –≤ user ‚Äî –Ω—É–∂–µ–Ω –ø–∞—Ä–æ–ª—å: resu
–ß—Ç–æ–±—ã –≤–æ–π—Ç–∏ –≤ su ‚Äî –ø–∞—Ä–æ–ª—å: toor

—Å–ø–æ–∫–æ–π–Ω–æ, —â–∞—Å –±–ª—è—Ç—å –æ—Ç–∫—Ä—ã–≤–∞–µ–º:
nano /etc/net/ifaces/enp6s19/ipv4address
—Ö—É—è—Ä–∏–º –∞–π–ø–∏—à–Ω–∏–∫ –ò –ú–ê–°–ö–£

–≤ —Ç–æ–º –∂–µ enp6s19 –æ—Ç–∫—Ä—ã–≤–∞–µ–º ipv4route
–±—ã—Å—Ç—Ä–µ–Ω—å–∫–æ —Ö—É—è—Ä–∏–º:
default via –∞–π–ø–∏—à–Ω–∏–∫ —Ä–æ—É—Ç–µ—Ä–∞

systemctl restart network
–∏ —Ä–∞–¥—É–µ–º—Å—è –∂–∏–∑–Ω–∏</code></pre>
  <h3>–ü–æ–¥—Ä–æ–±–Ω—ã–π –ø–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω:</h3>
  <pre><code>1. –°–æ–∑–¥–∞–π—Ç–µ –∫–∞—Ç–∞–ª–æ–≥ –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (–µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç)
sudo mkdir -p /etc/net/ifaces/enp6s19

2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª ipv4address —Å IP-–∞–¥—Ä–µ—Å–æ–º
sudo bash -c 'echo "192.168.1.100/24" > /etc/net/ifaces/enp6s19/ipv4address'

3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª ipv4route
sudo bash -c 'echo "default via 192.168.1.1" > /etc/net/ifaces/enp6s19/ipv4route'

# –∏–ª–∏ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ —Ä–µ–¥–∞–∫—Ç–æ—Ä
nano /etc/net/ifaces/enp6s19/ipv4route
# —Ç—É–¥–∞ –≤–ø–∏—Å–∞—Ç—å:
default via 192.168.1.1</code></pre>
  <p>–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ ‚Äî <code>systemctl restart network</code> –∏ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç.</p>
  </ul>
</body>
</html>
